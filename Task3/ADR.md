### <a name="_b7urdng99y53"></a>**Название задачи: Разработка MVP пл онлайн открытию депозитов**

### <a name="_hjk0fkfyohdk"></a>**Автор: Михаил Крутихин**

### <a name="_uanumrh8zrui"></a>**Дата: 12.05.2025**

### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| №   | Действующие лица или системы            | Use Case                                             | Описание                                                                                                                                                                                                                                                                                                          |
| --- | --------------------------------------- | ---------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Клиент, Сайт                            | Подача заявки на депозит через сайт                  | 1. Клиент заходит на сайт банка<br>2. Смотрит какие там депозиты и ставки<br>3. Заполняет форму -- имя, телефон,  всё<br>4. Жмёт отправить<br>5. Заявка улетает в кол-центр<br>6. Отображается успех отправки формы                                                                                               |
| 2   | Менеджер кол-центра, Система кол-центра | Обработка заявки с сайта                             | 1. Менеджер видит новую заявку<br>2. Звонит клиенту, спрашивает что интересует<br>3. Может предложить что-то особенное<br>4. Если всё ок то отмечает результат в системе<br>5. Дальше заявка уходит в АБС                                                                                                         |
| 3   | Клиент, Интернет-банк                   | Подача заявки на депозит через интернет-банк         | 1. Клиент заходит в интернет-банк (логинится)<br>2. Смотрит какие депозиты есть, видит свои ставки<br>3. Выбирает что хочет, указывает счёт и сумму<br>4. Жмёт отправить заявку<br>5. Получает СМС с кодом<br>6. Вводит код, подтверждает<br>7. Заявка уходит в АБС <br> 8. По итогу решения клиенту приходит СМС |
| 4   | Менеджер бэк офиса, АБС                 | Обработка заявки на депозит                          | 1. Менеджер бэк-офиса видит новую заявку в АБС<br>2. Проверяет всё ли ок с данными и деньгами<br>3. Если надо то согласует ставку (иногда пишет коллегам)<br>4. Подтверждает открытие депозита<br>5. АБС отправляет СМС клиенту что всё готово или если что-то не так                                             |
| 5   | Система АБС, СМС-шлюз, Клиент           | Уведомление клиента о статусе заявки                 | 1. После обработки заявки АБС формирует уведомление<br>2. Передаёт его в СМС-шлюз<br>3. СМС-шлюз отправляет сообщение клиенту<br>4. Клиент получает СМС типа "Депозит открыт" или "Ждём вас в отделении"                                                                                                          |
| 6   | Менеджер офлайн офиса, Клиент, АБС      | Идентификация клиента и завершение открытия депозита | 1. Клиент приходит в отделение (если надо)<br>2. Менеджер смотрит документы, сверяет<br>3. Вносит подтверждение в АБС<br>4. Депозит активируется<br>5. Клиенту дают бумажку что всё ок<br>6. АБС обновляет статус депозита                                                                                        |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

Опишите здесь нефункциональные требования и архитектурно-значимые требования.

  

| **№** | **Требование**                                                                                                                           |
| ----- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| 1     | Все данные клиента должны шифроваться, tsl ssl                                                                                           |
| 2     | Интернет-банк и сайт должны быть доступны 24/7  (99.9% uptime)                                                                           |
| 3     | Отклик по операциям <1c                                                                                                                  |
| 4     | Не работать напрямую с АБС из интернет-банка — нужен какой-то прослойка/шина, на примете kafka но для АБС нужны доп усилия для внедрения |
| 5     | Использовать только те технологии, с которыми у команды уже есть опыт (MS SQL, Java, PL-SQL, ASP.NET MVC 4.5 и т.д.)                     |
| 6     | При внедрении нового, тщательно проверять совместимость                                                                                  |
| 7     | Сервисы внедренные в рамках MVC должны быть готовы масшабироваться горизонтально                                                         |
| 8     | Документация к новым компонентам                                                                                                         |
| 9     | Доработка по СМС средствами банка                                                                                                        |
| 10    | UI в дизайн коде банка                                                                                                                   |

### <a name="_qmphm5d6rvi3"></a>**Решение**

![компонент АБС](c4/structurizr-ABS-Components.png)
![комопнент интернет банка](c4/structurizr-IBank-Components.png)
![контейнеры](c4/structurizr-Containers.png)
![контекст](c4/structurizr-Context.png)
  

доступ к АБС из интернет-банка исключён — реализован интеграционный слой.
Для производительности и минимизации задержек ключевые операции разделены по сервисам, отклик системы не должен превышать 1 секундыж
Для масштабируемости интернет-банк реализован с возможностью горизонтального масштабирования, АБС защищена от лишней нагрузки.
Для поддерживаемости и снижения рисков используются только те технологии, с которыми у команды уже есть опыт.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**


- Прямое подключение интернет-банка к АБС без интеграционного слоя.
- Внедрение новых технологий (например, Kafka) для интеграции между системами.

### Недостатки, ограничения, риски

- Интеграционный слой увеличивает сложность поддержки и требует отдельных ресурсов.
- АБС масштабируется только вертикально, что ограничивает рост нагрузки.
- Использование только существующих технологий может замедлить внедрение современных решений.